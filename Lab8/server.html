<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://assets.ubuntu.com/v1/vanilla-framework-version-x.x.x.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"/>

    <title>Lab6</title>
</head>

<body>
    <script src="index.js"></script>
    <nav class="navbar navbar-expand-custom navbar-mainbg">
        <a class="navbar-brand navbar-logo" href="#">Laboratorio 6 Programación orientada a eventos</a>
        <button class="navbar-toggler" type="button" aria-controls="navbarSupportedContent" aria-expanded="false"
            aria-label="Toggle navigation">
            <i class="fas fa-bars text-white"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <div class="hori-selector">
                    <div class="left"></div>
                    <div class="right"></div>
                </div>
                <li class="nav-item">
                    <a class="nav-link" href="javascript:void(0);"><i class="fas fa-tachometer-alt"></i>Jaime López -
                        A00571842</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="javascript:void(0);"><i class="far fa-clone"></i>Correo
                        A00571842@tec.mx</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="javascript:void(0);"><i class="far fa-calendar-alt"></i>Construcción de
                        Software Gpo 402</a>
                </li>
            </ul>
        </div>
    </nav>
        <br></br>
        <h4>Nivel de seguridad de contraseña</h4>
    <div class="container">
        <div class="input-box">
          <i class="fas fa-eye-slash show_hide"></i>
          <input spellcheck="false" type="password" placeholder="Ingresar Contraseña">
        </div>
        <div class="indicator">
          <div class="icon-text">
            <i class="fas fa-exclamation-circle error_icon"></i>
            <h6 class="text"></h6>
          </div>
        </div>
      </div>


      <h4>Comparador de contraseñas </h4>
    <form name = "myForm">
        <table>
        <tr>
          <td><input type = "password"
                    placeholder="Contraseña"
                    name = "check1">
        </tr>
        <tr>
            <td><input type = "password"
                placeholder="Repetir Contraseña"
                       name = "check2">
          </tr>
        
        <tr>
          <td colspan = 2><center>
            <input type = "button"
                   value = "Enviar"
                   onClick = "checkPass()"></center>
          </td>
        </tr>
        
        <tr>
          <td colspan = 2>
            <center>
            <textArea name = "txtOutput"
                      rows = 1
                      cols = 35>
            </textarea>
            </center>
          </td>
        </tr>
        </table>
        </form>


    <div class="card">
        <div class="card-body">
            <h5 class="card-title">¿Por qué es una buena práctica usar JavaScript para checar que sean válidos los
                inputs de las formas antes de enviar los datos al servidor?</h5>
            <p class="card-text">La validación de la entrada se realiza para garantizar que sólo los datos que estén
                correctos y de manera apropiada entren al flujo de trabajo de un sistema de información. De esta manera,
                evitando que los datos mal formados afecten en la base de datos y desencadenen el mal funcionamiento de
                los distintos componentes de la aplicación. (OWASP, 2019)</p>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">¿Cómo puedes saltarte la seguridad de validaciones hechas con JavaScript?</h5>
            <p class="card-text">Es posible introducir un valor benigno en el campo de entrada del navegador,
                interceptar el envío validado con su proxy, y modificar los datos a su valor deseado. Este artículo
                detalla este método. (PortSwigger, 2019)</p>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Si te puedes saltar la seguridad de las validaciones de JavaScript, entonces ¿por qué
                la primera pregunta dice que es una buena práctica?</h5>
            <p class="card-text">Esto se debe a que sí es una buena práctica, pero se tiene que contemplar que esta no
                sea la única capa de seguridad. Cualquier validación de entrada de JavaScript realizada en el cliente
                puede ser eludida por un atacante que desactive JavaScript o utilice un proxy web. Por ello, cualquier
                validación hecha en el cliente también se debe realiza en el servidor. (OWASP, 2019)</p>
        </div>
    </div>

    <script>
        const input = document.querySelector("input"),
              showHide = document.querySelector(".show_hide"),
              indicator = document.querySelector(".indicator"),
              iconText = document.querySelector(".icon-text"),
              text = document.querySelector(".text");
      
        // js code to show & hide password
      
        showHide.addEventListener("click", ()=>{
          if(input.type === "password"){
            input.type = "text";
            showHide.classList.replace("fa-eye-slash","fa-eye");
          }else {
            input.type = "password";
            showHide.classList.replace("fa-eye","fa-eye-slash");
          }
        });
      
        // js code to show password strength (with regex)
      
        let alphabet = /[a-zA-Z]/, //letter a to z and A to Z
            numbers = /[0-9]/, //numbers 0 to 9
            scharacters = /[!,@,#,$,%,^,&,*,?,_,(,),-,+,=,~]/; //special characters
      
        input.addEventListener("keyup", ()=>{
          indicator.classList.add("active");
      
          let val = input.value;
          if(val.match(alphabet) || val.match(numbers) || val.match(scharacters)){
            text.textContent = "La contraseña es débil";
            input.style.borderColor = "#FF6333";
            showHide.style.color = "#FF6333";
            iconText.style.color = "#FF6333";
          }
          if(val.match(alphabet) && val.match(numbers) && val.length >= 6){
            text.textContent = "La contraseña es medianamente segura";
            input.style.borderColor = "#cc8500";
            showHide.style.color = "#cc8500";
            iconText.style.color = "#cc8500";
          }
          if(val.match(alphabet) && val.match(numbers) && val.match(scharacters) && val.length >= 8){
            text.textContent = "La contraseña es muy segura";
            input.style.borderColor = "#22C32A";
            showHide.style.color = "#22C32A";
            iconText.style.color = "#22C32A";
          }
      
          if(val == ""){
            indicator.classList.remove("active");
            input.style.borderColor = "#A6A6A6";
            showHide.style.color = "#A6A6A6";
            iconText.style.color = "#A6A6A6";
          }
        });
      
        </script>
    
</body>

<footer>
    <article>
        <div class="mt-15 pt-15 pb-15 footer">
            <div class="container">
                <div class="row">
                    <div class="col-lg-20 col-xs-25">
                        <h5>Bibliografía:</h5>
                        <ul>
                            <li>
                                OWASP. (2019). Input Validation · OWASP Cheat Sheet Series. Owasp.org.
                                https://cheatsheetseries.owasp.org/cheatsheets/Input_Validation_Cheat_Sheet.html
                            </li>
                            <li>
                                PortSwigger. (2019). Using Burp to Bypass Client Side JavaScript Validation.
                                Portswigger.net.
                                https://portswigger.net/support/using-burp-to-bypass-client-side-javascript-validation
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="row mt-5">
                    <div class="col copyright">
                        <p class=""><small class="text-white-50">© 2022</small></p>
                    </div>
                </div>
            </div>
        </div>
    </article>
</footer>

</html>